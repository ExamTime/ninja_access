Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (21.3ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (23.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateResources (20121206205812)
  [1m[35m (12.4ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205812')[0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (6.2ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
Migrating to CreateNinjaAccessGroups (20121207150215)
  [1m[35m (14.4ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
Connecting to database specified by database.yml
  [1m[36m (9.5ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (11.4ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateResources (20121206205812)
  [1m[35m (8.2ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (4.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205812')[0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (60.1ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (4.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
Migrating to CreateNinjaAccessGroups (20121207150215)
  [1m[35m (9.6ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (6.0ms)[0m  [1mCREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
Connecting to database specified by database.yml
  [1m[36m (83.4ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (27.3ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateResources (20121206205812)
  [1m[35m (14.6ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205812')[0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (11.5ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
  [1m[35m (0.2ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (63.8ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (24.3ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (1.9ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateResources (20121206205812)
  [1m[35m (54.1ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205812')[0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (16.0ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
Migrating to CreateNinjaAccessGroups (20121207151154)
  [1m[35m (7.1ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (8.4ms)[0m  [1mCREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
Connecting to database specified by database.yml
  [1m[36m (26.3ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (67.7ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.9ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateResources (20121206205812)
  [1m[35m (18.0ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205812')[0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (14.8ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
Migrating to CreateNinjaAccessGroups (20121207151154)
  [1m[35m (22.2ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (7.4ms)[0m  [1mCREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
Connecting to database specified by database.yml
  [1m[36m (19.2ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (43.7ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateResources (20121206205812)
  [1m[35m (6.4ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205812')[0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (7.5ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.0ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
Migrating to CreateNinjaAccessGroups (20121207151154)
  [1m[35m (9.7ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (18.4ms)[0m  [1mCREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
Connecting to database specified by database.yml
  [1m[36m (18.3ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (8.8ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.0ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateResources (20121206205812)
  [1m[35m (41.7ms)[0m  CREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205812')[0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (8.7ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
Migrating to CreateNinjaAccessGroups (20121207151154)
  [1m[35m (11.3ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (11.6ms)[0m  [1mCREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (15.9ms)[0m  ALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (30.2ms)[0m  [1mALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (2.0ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121207151154')
Migrating to CreateNinjaAccessPermissions (20121207151155)
  [1m[36m (8.4ms)[0m  [1mCREATE TABLE `ninja_access_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `editable` tinyint(1) DEFAULT 0, `accessible_id` int(11), `accessible_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (9.1ms)[0m  CREATE UNIQUE INDEX `index_ninja_access_permissions_on_accessible` ON `ninja_access_permissions` (`accessible_id`, `accessible_type`, `editable`)
  [1m[36m (5.4ms)[0m  [1mCREATE TABLE `ninja_access_groups_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `permission_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (20.3ms)[0m  ALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (11.6ms)[0m  [1mALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)[0m
  [1m[35m (11.8ms)[0m  CREATE TABLE `ninja_access_users_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `permission_id` int(11)) ENGINE=InnoDB
  [1m[36m (10.8ms)[0m  [1mALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (31.2ms)[0m  ALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121207151155')[0m
Migrating to CreateNinjaAccessSubGroups (20121207151156)
  [1m[35m (13.9ms)[0m  CREATE TABLE `ninja_access_sub_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `child_id` int(11) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (10.9ms)[0m  [1mALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_parent_id_fk` FOREIGN KEY (`parent_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (15.3ms)[0m  ALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_child_id_fk` FOREIGN KEY (`child_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (50.2ms)[0m  [1mCREATE UNIQUE INDEX `index_ninja_access_sub_groups_on_parent_id_and_child_id` ON `ninja_access_sub_groups` (`parent_id`, `child_id`)[0m
  [1m[35m (2.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121207151156')
  [1m[36m (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups_permissions'
 
  [1m[36m (0.0ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups_permissions`[0m
  [1m[35m (0.3ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups_users'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups_users`[0m
  [1m[35m (0.4ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_permissions'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_permissions`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_sub_groups'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_sub_groups`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_users_permissions'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_users_permissions`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'resources'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `resources`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'users'
 
  [1m[36m (0.0ms)[0m  [1mSHOW CREATE TABLE `users`[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (0.3ms)[0m  DROP DATABASE IF EXISTS `ninja_access_test`
  [1m[36m (0.1ms)[0m  [1mCREATE DATABASE `ninja_access_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`[0m
  [1m[35m (40.5ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (21.5ms)[0m  [1mCREATE TABLE `ninja_access_groups_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `permission_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (18.1ms)[0m  CREATE INDEX `ninja_access_groups_permissions_group_id_fk` ON `ninja_access_groups_permissions` (`group_id`)
  [1m[36m (9.0ms)[0m  [1mCREATE INDEX `ninja_access_groups_permissions_permission_id_fk` ON `ninja_access_groups_permissions` (`permission_id`)[0m
  [1m[35m (18.4ms)[0m  CREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB
  [1m[36m (11.1ms)[0m  [1mCREATE INDEX `ninja_access_groups_users_group_id_fk` ON `ninja_access_groups_users` (`group_id`)[0m
  [1m[35m (11.8ms)[0m  CREATE INDEX `ninja_access_groups_users_user_id_fk` ON `ninja_access_groups_users` (`user_id`)
  [1m[36m (8.9ms)[0m  [1mCREATE TABLE `ninja_access_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `editable` tinyint(1) DEFAULT 0, `accessible_id` int(11), `accessible_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (11.6ms)[0m  CREATE UNIQUE INDEX `index_ninja_access_permissions_on_accessible` ON `ninja_access_permissions` (`accessible_id`, `accessible_type`, `editable`)
  [1m[36m (19.6ms)[0m  [1mCREATE TABLE `ninja_access_sub_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `child_id` int(11) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (57.5ms)[0m  CREATE INDEX `ninja_access_sub_groups_child_id_fk` ON `ninja_access_sub_groups` (`child_id`)
  [1m[36m (18.9ms)[0m  [1mCREATE UNIQUE INDEX `index_ninja_access_sub_groups_on_parent_id_and_child_id` ON `ninja_access_sub_groups` (`parent_id`, `child_id`)[0m
  [1m[35m (29.6ms)[0m  CREATE TABLE `ninja_access_users_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `permission_id` int(11)) ENGINE=InnoDB
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX `ninja_access_users_permissions_permission_id_fk` ON `ninja_access_users_permissions` (`permission_id`)[0m
  [1m[35m (12.6ms)[0m  CREATE INDEX `ninja_access_users_permissions_user_id_fk` ON `ninja_access_users_permissions` (`user_id`)
  [1m[36m (8.5ms)[0m  [1mCREATE TABLE `resources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (10.9ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (13.0ms)[0m  [1mALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (38.9ms)[0m  ALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)
  [1m[36m (19.3ms)[0m  [1mALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (25.1ms)[0m  ALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)
  [1m[36m (22.9ms)[0m  [1mALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_child_id_fk` FOREIGN KEY (`child_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (60.4ms)[0m  ALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_parent_id_fk` FOREIGN KEY (`parent_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (15.4ms)[0m  [1mALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)[0m
  [1m[35m (8.9ms)[0m  ALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)
  [1m[36m (12.4ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (26.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121207151156')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121206205812')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121206205826')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121207151155')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121207151154')
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (27.4ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (17.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (5.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (7.4ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.1ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
Migrating to CreateNinjaAccessGroups (20121207151154)
  [1m[35m (69.6ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (46.9ms)[0m  ALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (16.7ms)[0m  [1mALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (8.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121207151154')
Migrating to CreateNinjaAccessPermissions (20121207151155)
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE `ninja_access_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `editable` tinyint(1) DEFAULT 0, `accessible_id` int(11), `accessible_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (16.2ms)[0m  CREATE UNIQUE INDEX `index_ninja_access_permissions_on_accessible` ON `ninja_access_permissions` (`accessible_id`, `accessible_type`, `editable`)
  [1m[36m (23.5ms)[0m  [1mCREATE TABLE `ninja_access_groups_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `permission_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (10.0ms)[0m  ALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (15.9ms)[0m  [1mALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE `ninja_access_users_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `permission_id` int(11)) ENGINE=InnoDB
  [1m[36m (29.4ms)[0m  [1mALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (13.5ms)[0m  ALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)
  [1m[36m (1.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121207151155')[0m
Migrating to CreateNinjaAccessSubGroups (20121207151156)
  [1m[35m (12.0ms)[0m  CREATE TABLE `ninja_access_sub_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `child_id` int(11) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (16.4ms)[0m  [1mALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_parent_id_fk` FOREIGN KEY (`parent_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (35.8ms)[0m  ALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_child_id_fk` FOREIGN KEY (`child_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (14.1ms)[0m  [1mCREATE UNIQUE INDEX `index_ninja_access_sub_groups_on_parent_id_and_child_id` ON `ninja_access_sub_groups` (`parent_id`, `child_id`)[0m
  [1m[35m (1.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121207151156')
Migrating to CreateResourceAs (20121207164417)
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE `resource_as` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (3.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121207164417')
Migrating to CreateResourceBs (20121207164430)
  [1m[36m (5.7ms)[0m  [1mCREATE TABLE `resource_bs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.9ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121207164430')
  [1m[36m (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups'
 
  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups`[0m
  [1m[35m (0.3ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups_permissions'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups_permissions`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups_users'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups_users`[0m
  [1m[35m (0.3ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_permissions'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_permissions`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_sub_groups'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_sub_groups`[0m
  [1m[35m (1.3ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_users_permissions'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_users_permissions`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'resource_as'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `resource_as`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'resource_bs'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `resource_bs`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'users'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `users`[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (0.3ms)[0m  DROP DATABASE IF EXISTS `ninja_access_test`
  [1m[36m (0.0ms)[0m  [1mCREATE DATABASE `ninja_access_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`[0m
  [1m[35m (12.2ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE `ninja_access_groups_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `permission_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (10.4ms)[0m  CREATE INDEX `ninja_access_groups_permissions_group_id_fk` ON `ninja_access_groups_permissions` (`group_id`)
  [1m[36m (44.2ms)[0m  [1mCREATE INDEX `ninja_access_groups_permissions_permission_id_fk` ON `ninja_access_groups_permissions` (`permission_id`)[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB
  [1m[36m (11.5ms)[0m  [1mCREATE INDEX `ninja_access_groups_users_group_id_fk` ON `ninja_access_groups_users` (`group_id`)[0m
  [1m[35m (11.7ms)[0m  CREATE INDEX `ninja_access_groups_users_user_id_fk` ON `ninja_access_groups_users` (`user_id`)
  [1m[36m (23.9ms)[0m  [1mCREATE TABLE `ninja_access_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `editable` tinyint(1) DEFAULT 0, `accessible_id` int(11), `accessible_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (10.8ms)[0m  CREATE UNIQUE INDEX `index_ninja_access_permissions_on_accessible` ON `ninja_access_permissions` (`accessible_id`, `accessible_type`, `editable`)
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE `ninja_access_sub_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `child_id` int(11) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (9.2ms)[0m  CREATE INDEX `ninja_access_sub_groups_child_id_fk` ON `ninja_access_sub_groups` (`child_id`)
  [1m[36m (23.8ms)[0m  [1mCREATE UNIQUE INDEX `index_ninja_access_sub_groups_on_parent_id_and_child_id` ON `ninja_access_sub_groups` (`parent_id`, `child_id`)[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE `ninja_access_users_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `permission_id` int(11)) ENGINE=InnoDB
  [1m[36m (9.5ms)[0m  [1mCREATE INDEX `ninja_access_users_permissions_permission_id_fk` ON `ninja_access_users_permissions` (`permission_id`)[0m
  [1m[35m (12.0ms)[0m  CREATE INDEX `ninja_access_users_permissions_user_id_fk` ON `ninja_access_users_permissions` (`user_id`)
  [1m[36m (37.0ms)[0m  [1mCREATE TABLE `resource_as` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (9.6ms)[0m  CREATE TABLE `resource_bs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (10.6ms)[0m  ALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (10.2ms)[0m  [1mALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)[0m
  [1m[35m (12.6ms)[0m  ALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (16.6ms)[0m  [1mALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (9.2ms)[0m  ALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_child_id_fk` FOREIGN KEY (`child_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (11.3ms)[0m  [1mALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_parent_id_fk` FOREIGN KEY (`parent_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (12.2ms)[0m  ALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)
  [1m[36m (14.6ms)[0m  [1mALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (10.9ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (8.7ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121207164430')[0m
  [1m[35m (2.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121207151156')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121206205826')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121207164417')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121207151155')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121207151154')
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (24.0ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (40.7ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateUsers (20121206205826)
  [1m[35m (10.8ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121206205826')[0m
Migrating to CreateResourceAs (20121207164417)
  [1m[35m (28.9ms)[0m  CREATE TABLE `resource_as` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (7.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121207164417')[0m
Migrating to CreateResourceBs (20121207164430)
  [1m[35m (5.8ms)[0m  CREATE TABLE `resource_bs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121207164430')[0m
Migrating to CreateNinjaAccessGroups (20121209105741)
  [1m[35m (16.7ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (8.5ms)[0m  [1mCREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (21.0ms)[0m  ALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (17.5ms)[0m  [1mALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (1.0ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121209105741')
Migrating to CreateNinjaAccessPermissions (20121209105742)
  [1m[36m (6.0ms)[0m  [1mCREATE TABLE `ninja_access_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `action` varchar(255) NOT NULL, `accessible_id` int(11), `accessible_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.8ms)[0m  CREATE UNIQUE INDEX `index_ninja_access_permissions_on_accessible_and_action` ON `ninja_access_permissions` (`accessible_id`, `accessible_type`, `action`)
  [1m[36m (23.8ms)[0m  [1mCREATE TABLE `ninja_access_groups_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `permission_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (26.2ms)[0m  ALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (35.4ms)[0m  [1mALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)[0m
  [1m[35m (10.3ms)[0m  CREATE TABLE `ninja_access_users_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `permission_id` int(11)) ENGINE=InnoDB
  [1m[36m (57.4ms)[0m  [1mALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (19.0ms)[0m  ALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121209105742')[0m
Migrating to CreateNinjaAccessSubGroups (20121209105743)
  [1m[35m (11.2ms)[0m  CREATE TABLE `ninja_access_sub_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `child_id` int(11) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (13.3ms)[0m  [1mALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_parent_id_fk` FOREIGN KEY (`parent_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (29.9ms)[0m  ALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_child_id_fk` FOREIGN KEY (`child_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (12.2ms)[0m  [1mCREATE UNIQUE INDEX `index_ninja_access_sub_groups_on_parent_id_and_child_id` ON `ninja_access_sub_groups` (`parent_id`, `child_id`)[0m
  [1m[35m (5.9ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20121209105743')
  [1m[36m (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups'
 
  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups`[0m
  [1m[35m (0.3ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups_permissions'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups_permissions`[0m
  [1m[35m (1.0ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups_users'
 
  [1m[36m (0.4ms)[0m  [1mSHOW CREATE TABLE `ninja_access_groups_users`[0m
  [1m[35m (0.7ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_permissions'
 
  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `ninja_access_permissions`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_sub_groups'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `ninja_access_sub_groups`[0m
  [1m[35m (0.3ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_users_permissions'
 
  [1m[36m (0.2ms)[0m  [1mSHOW CREATE TABLE `ninja_access_users_permissions`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'resource_as'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `resource_as`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'resource_bs'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `resource_bs`[0m
  [1m[35m (0.2ms)[0m  
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'users'
 
  [1m[36m (0.1ms)[0m  [1mSHOW CREATE TABLE `users`[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (0.3ms)[0m  DROP DATABASE IF EXISTS `ninja_access_test`
  [1m[36m (0.2ms)[0m  [1mCREATE DATABASE `ninja_access_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`[0m
  [1m[35m (39.2ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (22.3ms)[0m  [1mCREATE TABLE `ninja_access_groups_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `permission_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (34.6ms)[0m  CREATE INDEX `ninja_access_groups_permissions_group_id_fk` ON `ninja_access_groups_permissions` (`group_id`)
  [1m[36m (22.4ms)[0m  [1mCREATE INDEX `ninja_access_groups_permissions_permission_id_fk` ON `ninja_access_groups_permissions` (`permission_id`)[0m
  [1m[35m (10.8ms)[0m  CREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB
  [1m[36m (10.2ms)[0m  [1mCREATE INDEX `ninja_access_groups_users_group_id_fk` ON `ninja_access_groups_users` (`group_id`)[0m
  [1m[35m (9.7ms)[0m  CREATE INDEX `ninja_access_groups_users_user_id_fk` ON `ninja_access_groups_users` (`user_id`)
  [1m[36m (5.5ms)[0m  [1mCREATE TABLE `ninja_access_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `action` varchar(255) NOT NULL, `accessible_id` int(11), `accessible_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (36.6ms)[0m  CREATE UNIQUE INDEX `index_ninja_access_permissions_on_accessible_and_action` ON `ninja_access_permissions` (`accessible_id`, `accessible_type`, `action`)
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE `ninja_access_sub_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `child_id` int(11) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.4ms)[0m  CREATE INDEX `ninja_access_sub_groups_child_id_fk` ON `ninja_access_sub_groups` (`child_id`)
  [1m[36m (10.8ms)[0m  [1mCREATE UNIQUE INDEX `index_ninja_access_sub_groups_on_parent_id_and_child_id` ON `ninja_access_sub_groups` (`parent_id`, `child_id`)[0m
  [1m[35m (28.0ms)[0m  CREATE TABLE `ninja_access_users_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `permission_id` int(11)) ENGINE=InnoDB
  [1m[36m (21.0ms)[0m  [1mCREATE INDEX `ninja_access_users_permissions_permission_id_fk` ON `ninja_access_users_permissions` (`permission_id`)[0m
  [1m[35m (15.6ms)[0m  CREATE INDEX `ninja_access_users_permissions_user_id_fk` ON `ninja_access_users_permissions` (`user_id`)
  [1m[36m (6.5ms)[0m  [1mCREATE TABLE `resource_as` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (15.4ms)[0m  CREATE TABLE `resource_bs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (21.4ms)[0m  ALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (10.7ms)[0m  [1mALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)[0m
  [1m[35m (36.9ms)[0m  ALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (20.8ms)[0m  [1mALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (11.3ms)[0m  ALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_child_id_fk` FOREIGN KEY (`child_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (23.0ms)[0m  [1mALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_parent_id_fk` FOREIGN KEY (`parent_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (27.3ms)[0m  ALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)
  [1m[36m (9.5ms)[0m  [1mALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)[0m
  [1m[35m (8.4ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (9.9ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121209105743')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121209105742')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121206205826')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121207164417')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121207164430')[0m
  [1m[35m (2.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121209105741')
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateUsers (20121206205826)
Migrating to CreateResourceAs (20121207164417)
Migrating to CreateResourceBs (20121207164430)
Migrating to CreateNinjaAccessGroups (20121209105741)
Migrating to CreateNinjaAccessPermissions (20121209105742)
Migrating to CreateNinjaAccessSubGroups (20121209105743)
Migrating to CreateResourceCs (20121209195943)
  [1m[35m (81.9ms)[0m  CREATE TABLE `resource_cs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (3.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20121209195943')[0m
  [1m[35m (0.5ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups'
 [0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `ninja_access_groups`
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups_permissions'
 [0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `ninja_access_groups_permissions`
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_groups_users'
 [0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `ninja_access_groups_users`
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_permissions'
 [0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `ninja_access_permissions`
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_sub_groups'
 [0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `ninja_access_sub_groups`
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'ninja_access_users_permissions'
 [0m
  [1m[35m (0.3ms)[0m  SHOW CREATE TABLE `ninja_access_users_permissions`
  [1m[36m (0.4ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'resource_as'
 [0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `resource_as`
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'resource_bs'
 [0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `resource_bs`
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'resource_cs'
 [0m
  [1m[35m (0.3ms)[0m  SHOW CREATE TABLE `resource_cs`
  [1m[36m (0.2ms)[0m  [1m
 SELECT fk.referenced_table_name as 'to_table'
 ,fk.referenced_column_name as 'primary_key'
 ,fk.column_name as 'column'
 ,fk.constraint_name as 'name'
 FROM information_schema.key_column_usage fk
 WHERE fk.referenced_column_name is not null
 AND fk.table_schema = 'ninja_access_development'
 AND fk.table_name = 'users'
 [0m
  [1m[35m (0.1ms)[0m  SHOW CREATE TABLE `users`
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (59.1ms)[0m  DROP DATABASE IF EXISTS `ninja_access_test`
  [1m[36m (0.0ms)[0m  [1mCREATE DATABASE `ninja_access_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`[0m
  [1m[35m (23.7ms)[0m  CREATE TABLE `ninja_access_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE `ninja_access_groups_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `permission_id` int(11)) ENGINE=InnoDB[0m
  [1m[35m (9.8ms)[0m  CREATE INDEX `ninja_access_groups_permissions_group_id_fk` ON `ninja_access_groups_permissions` (`group_id`)
  [1m[36m (9.5ms)[0m  [1mCREATE INDEX `ninja_access_groups_permissions_permission_id_fk` ON `ninja_access_groups_permissions` (`permission_id`)[0m
  [1m[35m (11.4ms)[0m  CREATE TABLE `ninja_access_groups_users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `user_id` int(11)) ENGINE=InnoDB
  [1m[36m (27.9ms)[0m  [1mCREATE INDEX `ninja_access_groups_users_group_id_fk` ON `ninja_access_groups_users` (`group_id`)[0m
  [1m[35m (9.1ms)[0m  CREATE INDEX `ninja_access_groups_users_user_id_fk` ON `ninja_access_groups_users` (`user_id`)
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE `ninja_access_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `action` varchar(255) NOT NULL, `accessible_id` int(11), `accessible_type` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (16.3ms)[0m  CREATE UNIQUE INDEX `index_ninja_access_permissions_on_accessible_and_action` ON `ninja_access_permissions` (`accessible_id`, `accessible_type`, `action`)
  [1m[36m (16.1ms)[0m  [1mCREATE TABLE `ninja_access_sub_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `parent_id` int(11) NOT NULL, `child_id` int(11) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (15.2ms)[0m  CREATE INDEX `ninja_access_sub_groups_child_id_fk` ON `ninja_access_sub_groups` (`child_id`)
  [1m[36m (8.5ms)[0m  [1mCREATE UNIQUE INDEX `index_ninja_access_sub_groups_on_parent_id_and_child_id` ON `ninja_access_sub_groups` (`parent_id`, `child_id`)[0m
  [1m[35m (5.2ms)[0m  CREATE TABLE `ninja_access_users_permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `permission_id` int(11)) ENGINE=InnoDB
  [1m[36m (7.3ms)[0m  [1mCREATE INDEX `ninja_access_users_permissions_permission_id_fk` ON `ninja_access_users_permissions` (`permission_id`)[0m
  [1m[35m (9.2ms)[0m  CREATE INDEX `ninja_access_users_permissions_user_id_fk` ON `ninja_access_users_permissions` (`user_id`)
  [1m[36m (4.6ms)[0m  [1mCREATE TABLE `resource_as` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (4.3ms)[0m  CREATE TABLE `resource_bs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (18.6ms)[0m  [1mCREATE TABLE `resource_cs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (6.2ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (11.2ms)[0m  [1mALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (9.9ms)[0m  ALTER TABLE `ninja_access_groups_permissions` ADD CONSTRAINT `ninja_access_groups_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)
  [1m[36m (16.1ms)[0m  [1mALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_group_id_fk` FOREIGN KEY (`group_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (10.3ms)[0m  ALTER TABLE `ninja_access_groups_users` ADD CONSTRAINT `ninja_access_groups_users_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)
  [1m[36m (24.5ms)[0m  [1mALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_child_id_fk` FOREIGN KEY (`child_id`) REFERENCES `ninja_access_groups`(id)[0m
  [1m[35m (9.8ms)[0m  ALTER TABLE `ninja_access_sub_groups` ADD CONSTRAINT `ninja_access_sub_groups_parent_id_fk` FOREIGN KEY (`parent_id`) REFERENCES `ninja_access_groups`(id)
  [1m[36m (17.2ms)[0m  [1mALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_permission_id_fk` FOREIGN KEY (`permission_id`) REFERENCES `ninja_access_permissions`(id)[0m
  [1m[35m (21.4ms)[0m  ALTER TABLE `ninja_access_users_permissions` ADD CONSTRAINT `ninja_access_users_permissions_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `users`(id)
  [1m[36m (11.5ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (14.9ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (0.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121209195943')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121209105742')[0m
  [1m[35m (2.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121209105743')
  [1m[36m (1.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121206205826')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121207164417')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20121207164430')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20121209105741')
